<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stundenplan</title>
    <link href="https://pipeman.org/std-style.css" rel="stylesheet" type="text/css">
</head>
<style>
    * {
        font-family: Arial, serif
    }

    .loading-text {
        color: lightgrey
    }
</style>
<body style="background: url('someone.gif')">
<h1 style="color: forestgreen; font-family: Arial, serif">WLS-Vertretungsplan</h1>
<div id="loading-div" style="text-align: center; width: 300px" hidden>
    <img style="margin: auto" src="loading-137px.gif" alt="Loading-Gif">
    <h2 class="loading-text">Lädt... Kann mehrere Sekunden dauern...</h2>
    <h3 class="loading-text">Ja, Fronter in Kombination mit OneDrive ist sehr langsam, aber da kann ich auch nichts dran
        ändern</h3>
</div>
<div style="display: flex; width: 100%">
    <div id="plan-div">

    </div>
    <div id="plan-div2">

    </div>
</div>
</body>
<script>
    function setLoading(loading) {
        document.getElementById("loading-div").hidden = !loading;
    }

    window.onload = () => {
        getPlans();
        // if (isWeekend()) getPlanTomorrow();
        // else getPlanToday();
    }

    function getPlans() {
        setLoading(true);
        let loading = 2;
        fetch("api/plans/today").then(async response => {
            document.getElementById("plan-div").innerHTML = await response.text();
            setLoading(false)
        });
        fetch("api/plans/tomorrow").then(async response => {
            document.getElementById("plan-div2").innerHTML = await response.text();
            setLoading(false)
        });
    }

    function isWeekend() {
        const date = new Date();
        return date.getDay() === 0 || date.getDay() === 6;
    }
</script>
</html>
